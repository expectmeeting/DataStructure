[TOC]

# linux系统调用

linux系统调用是用户空间应用程序和内核提供的服务之间的一个接口。

## 1、进程创建

- 拷贝方式：即父进程调用系统调用fork来拷贝自身已有的数据到子进程，并以返回子的不同来判别所在进程(父进程中fork返回子进程的进程号，子进程中fork返回0)，这样通过if-else语句就能实现父子进程间拥有不同的执行流。子进程还可以通过另一个系统调用execve执行另外的程序，而父进程则可以通过系统调用waitpid和子进程的进程号来监控子进程的运行状态。
- 一步步建立：祖宗进程的创建方式。 

## 2、内存分配

- brk：小内存分配，分配的内存与原来堆中的数据连在一起。
- mmap：大内存分配，重新分配内存空间。

## 3、文件管理

linux中遵循一切皆文件，因此操作文件管理的系统调用十分必要。

- creat：创建
- open：打开
- lseek：定位
- read：读取
- write：写入
- close：关闭

## 4、网络通信

- socket：创建套接字
- bind：绑定端口
- connect：发起连接
- listen：监听
- accept：接收连接

## 5、进程间通信

- 消息队列：
  - 创建队列：msgget
  - 发送消息：msgsnd
  - 接收消息：msgrcv
- 共享内存：
  - 创建共享内存：shmget
  - 将共享内存映射到内存空间：shmat
- 信号量：
  - 抢占信号量：sem_wait
  - 释放信号量：sem_post

## 6、信号处理

- 发送信号：kill

- 信号处理：sigaction